#!/usr/bin/env node

var log = require('../lib/SimpleLogger').createSimpleLogger();

const AbstractAppender = require('simple-node-logger').AbstractAppender;

const JSONAppender = function() {
    'use strict';
    var appender = this;

    var opts = {
        typeName:'JSONAppender'
    };

    AbstractAppender.extend( this, opts );

    // format and write all entry/statements
    this.write = function(entry) {
        var fields = appender.formatEntry( entry );
console.log('fields: ' + fields);
        process.stdout.write( JSON.stringify( entry ) + '\n' );
    };
};

log.info('just a test');